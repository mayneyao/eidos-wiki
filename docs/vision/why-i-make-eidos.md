---
sidebar_position: 1
---

# 为什么 Eidos 会诞生

## 我想要再造一个轮子

已经有好多笔记工具，为什么还要卷？写 Eidos 的主要原因还是因为市面上的笔记工具在表格处理上都不太能打，Notion 是结合的比较好的。但是 Notion 不是离线优先的，我算是 Notion 早期的用户，作为一个狂热粉丝也写了很多基于 Notion 的轮子去扩展其能力，我还有个永久 free 的 team space，但是这些都没能阻止我放弃 Notion。网络延迟以及一些限制让我对 Notion 从热爱到逐渐不再使用。

后来我加入了 logseq 的阵营，本地优先战士。用了大半年，每天写日志，感觉很棒。但是没有表格，没有数据库还是差了点意思，当我想定向的整理某类数据时，文档就不够用了。affine 看起来是个不错的选择，表格在 roadmap 上，进入社区询问后，我还是打住了。affine 的思路还是双链那套，以 block 基础。affine 虽然有表格，但是表格只是 block 的不同形态展示，并不是自由的表格，我很担心后续表格的性能问题。

不知道大家有没有看过 Notion 表格的性能。当你的数据记录稍微多一点点时，Notion 就开始卡起来了。令我印象深刻的是一个基于 Notion 搭建的 [老头环 wiki](https://eli-wimmer.Notion.site/e16f89e72bd64a088f02e3f43b2da056?v=4b2c2b1de332490f85773ec0890c38de)。283 条数据，肉眼可见的卡顿。因为存在计算和引用页面滚起来卡卡的。我也很难想象 affine 的表格变成如此复杂时的表现。然后又不得不回退到 Excel 处理数据。

| 工具     | 是否开源 | 本地优先 | 文档支持 | 表格(airtable-like)支持 | API/扩展 | 为什么不用                                                                                 |
| -------- | -------- | -------- | -------- | ----------------------- | -------- | ------------------------------------------------------------------------------------------ |
| Notion   | ❌       | ❌       | ✅       | ✅                      | ✅       | SaaS + 性能问题                                                                            |
| Obsidian | ❌       | ✅       | ✅       | ❌                      | ✅       | 闭源没表格                                                                                 |
| Logseq   | ✅       | ✅       | ✅       | ❌                      | ✅       | 没表格                                                                                     |
| Affine   | ✅       | ✅       | ✅       | ✅                      | ❌       | 接近理想中的工具，重度开发中，不稳定,无法支撑日常使用                                      |
| Appflowy | ✅       | ✅       | ✅       | ✅                      | ❌       | rust + dart 的技术栈太新了，和现代前端脱节，开发进展缓慢，无法支撑日常使用                 |
| Anytype  | ✅       | ✅       | ✅       | ✅                      | ❌       | 在我写 Eidos 的时候, anytype 还没开源，我加了 3 年的 waitlist 也没有消息，消耗完了我的耐心 |

1. 文档和表格是基础需求。
2. 本地、非 SaaS 出于对数据掌控、隐私的需求。
3. 开源出于软件生命周期的考量, 我是否能一直使用, 每次迁移很麻烦。
4. API/扩展衡量一个软件是否开放，我能否折腾定制。

我对双链不感冒, Roam Research 这类主打双链的软件不列在其中。我的述求其实很简单, 一句话概括就是一个离线版的 Notion。从产品形态上来说，我希望 Eidos 是开源的、本地优先的 Web App。希望通过这种方式，让用户拥有原始数据，释放数据的能力。

### 开源和开放

大家或许都听过 RMS 的故事，RMS 在实验室里使用一台打印机打印文件，但打印机因为出现了故障，无法正常工作。他向厂商寻求帮助修理打印机，但遭遇到了一个问题：厂商的源代码并不开放，也不愿意透露给 RMS 修复他的打印机所需要的信息。
这个经历启发了 RMS，他开始思考：作为用户，为什么我们要依赖厂商提供的软件？为什么我们不能拥有自由、开放的软件？
于是，RMS 决定发起自由软件运动，他倡导编写自由软件，并创建了 GNU 项目（GNU's Not Unix 的递归缩写），推动了自由软件的发展。他还创立了自由软件基金会（Free Software Foundation），致力于宣传和支持自由软件的使用和开发。

之前的软件依附于硬件售卖，现在的软件单独就是一门生意。闭源的 SaaS 其实干着同样的事情，曾经捣鼓 Notion API 的我也体会到了 RMS 的处境。

我相信大多数人首次接触到 airtable-like 的表格都会感觉很惊艳。对于一个想把万事万物都分类的强迫症来说，Notion 的 database 能出色的完成任务。我迫切的想把我的数据都放进去。我用它来做 headless cms，逆向 API 写了个 sdk，又用 sdk 写 gatsby 版的博客，写听歌的 app，用 cloudflare 的 worker 做自定义域名。然后我觉得还是少了什么，又写了个浏览器插件，强化 cmdk 的体验，自定义脚本搭建自己的 workflow。我把自己的笔记、书单、音影和各种消费都分门别类的整理进去，变成一个数据仓鼠。那个时候我觉的 Notion 就是未来。事实证明后续 Notion 的发展确实一飞冲天，成了独一档的独角兽。

一切看起来都很美好，直到 API 变动，Notion 在飞速发展，API 也在变化，逆向出来的接口并不稳定。基于这个基石构建的东西，随时都会分崩离析。这是我不爽的点，盼星星盼月亮，从 18 年 盼到了 21 年 Notion 才公布了 API。

![Alt text](img/notion-api.png)

直到现在 Notion 也没有开放文件上传的 API，做 SaaS 要考虑的事情太多了。是 Notion 不想开放吗，并不是。而是 SaaS 的特点决定了它没办法快速推出这些特性，考虑性能，考虑接口设计，考虑数据结构，考虑使用场景。被大量用户数据和需求裹挟的 Notion 没办法快跑，API 难产了好几年。其实这是 SaaS 很常见的问题，它没法同时满足所有人。你要的 API 需求可能对于其他人来说不值一提，可能有些用户对甘特图的需求优先级更高，公司会把资源倾斜过去。作为用户能做的唯有等待，SaaS 还有个问题就是随着时间推移会变得越来越臃肿。

如果 RMS 只是把 bug 反馈回去，也就没有后来 GUN 什么事了。自己动手丰衣足食，开源软件的优点是不爽你就 fork，不用惯着。不管是开源还是开放 API 都给了用户最大程度的自由。

### 我们可能并不需要 SaaS

> The author disclaims copyright to this source code. In place of
> a legal notice, here is a blessing:
>
> May you do good and not evil.
>
> May you find forgiveness for yourself and forgive others.
>
> May you share freely, never taking more than you give.

sqlite 的源码中每个 code 文件最上面会有如上所示的声明。sqlite 自诞生起也是一直践行这个原则。它是这个星球上最成功的软件，几乎存在于每台电脑手机中。

**never taking more than you give**，SaaS 的问题在于它索取的太多，SaaS 选择了一条路，这条路很轻松，但是代价却很大，通常的做法是把代价转移给用户。但是对于用户而言，他已经有一台性能强劲的电脑，有上 T 的存储空间，一切操作都可以在本地电脑上运行，并不太需要依赖网络提供的 SaaS 服务。

SaaS 因为其属性天然和订阅制收费模式绑定在一起。但是什么样的服务值得订阅付费? 我没办法自己牵一条水管从水源到家里，也没有把自己家的电脑和全世界其他人的电脑连接起来。所以每个月交水费、交网费。那些做基础设施的服务商收这个钱是应该的。

我没有办法为一个笔记软件订阅，笔记软件的形态也不应该是 SaaS。大部分 2C 的工具类产品也没有做 SaaS 的必要。没有人会蠢到说，卖你一个精美的 base64 解码工具，按月收费。这是个很离谱的事情，但是一旦涉及到数据存储，收费就变成了天经地义。OpenAI 这种是比较理想的订阅模式，AI 智能就如水电网是一种基础资源，通过互联网分发，惠及每个人。

现在的大环境是创业者都相信 SaaS 的造富神话，挤破头了往里面钻，一旦那些公司接受了上云的设定，就会为了每月的服务器开销，云存储账单拼命的从用户这一侧索取。为了维持公司运转就会挽留用户，绑定数据。如果开发者习惯了亚马逊的这套叙事，一旦要做什么东西，自然而然就是我需要一台服务器，事实上你可能根本不需要一台服务器。技术在进步，现在移动设备的性能比许多年前的服务器还要强劲。

就目前而言除了 SNS、搜索等对性能要求高的服务，大多数软件都可以使用去中心化的架构实现相同的功能。就像 Eidos 这样，不依赖中心化服务器，也能实现分享，也能实现免冲突的实时协作。不依赖云端的数据库也能实现大量数据的存储查询。因为存储和计算都在客户端做完了，所以不太好开口怎么持续收费，大家不愿意这么做不是在技术上不可行，而是在商业上赚不到钱，或者说已经被固定在了 SaaS 的思维里。

## 我可以再造一个轮子

### Web 打破 BS 范式

Web 的兴起带动了 BS 架构的发展，移动端的浪潮更加稳固了 BS 架构的地位。长久以来业界一直都是 BS 的生产结构。服务器引入了中心化，中心化带来了很多好处，信息聚合、检索等等。Google 是一个代表性的例子，集中力量办大事是 SaaS 的优点。

但是并不是每个场景都需要 SaaS，个人设备的性能越来越强，Web 的能力越来越强。Figma 珠玉在前，让大家认识到在 Web 中打造一个复杂软件的可能性，这种胖客户端，似乎又回到了 CS 时代。

Web 能做的事情越来越多，我们现在可以更进一步，把服务器和客户端都打包放进浏览器里，这将会是下个时代的做法，让数据离用户更近，而不是在远离我们的云端。

https://playground.wordpress.net/ 之前折腾环境安装的 wordpress，现在只需要打开浏览器就可以使用。有意思的是 PhotoShop 最近也推出了 [Web 版](https://www.adobe.com/products/photoshop/online.html)。这种技术性的变革会影响现在的 Web 软件的开发范式。

WASM、WebRTC、OPFS、WebGPU 等一系列 Web 技术已经可以支撑我打造一个本地优先的 App。Eidos 正是基于一系列新兴 Web 特性构建的，更多的技术细节可以参考 [Eidos 技术架构](/tech/infra)
